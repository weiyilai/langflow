"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[6550],{57668:(e,t,n)=>{n.r(t),n.d(t,{CH:()=>l,assets:()=>d,chCodeConfig:()=>h,contentTitle:()=>i,default:()=>m,frontMatter:()=>c,metadata:()=>o,toc:()=>p});const o=JSON.parse('{"id":"Integrations/MCP/mcp-component-astra","title":"Connect an Astra DB MCP server to Langflow","description":"Use the MCP server component to connect Langflow to a Datastax Astra DB MCP server.","source":"@site/docs/Integrations/MCP/mcp-component-astra.md","sourceDirName":"Integrations/MCP","slug":"/mcp-component-astra","permalink":"/mcp-component-astra","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Connect an Astra DB MCP server to Langflow","slug":"/mcp-component-astra"},"sidebar":"docs","previous":{"title":"Integrate Langflow with MCP","permalink":"/integrations-mcp"},"next":{"title":"Apify","permalink":"/integrations-apify"}}');var a=n(74848),r=n(28453),s=n(24754);const c={title:"Connect an Astra DB MCP server to Langflow",slug:"/mcp-component-astra"},i=void 0,d={},l={annotations:s.hk,Code:s.Cy},h={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},p=[];function g(e){const t={a:"a",admonition:"admonition",code:"code",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,r.R)(),...e.components};return l||u("CH",!1),l.Code||u("CH.Code",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n",(0,a.jsxs)(t.p,{children:["Use the ",(0,a.jsx)(t.a,{href:"/components-tools#mcp-server",children:"MCP server component"})," to connect Langflow to a ",(0,a.jsx)(t.a,{href:"https://github.com/datastax/astra-db-mcp",children:"Datastax Astra DB MCP server"}),"."]}),"\n",(0,a.jsxs)(t.ol,{children:["\n",(0,a.jsxs)(t.li,{children:["Install an LTS release of ",(0,a.jsx)(t.a,{href:"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm",children:"Node.js"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:["Create an ",(0,a.jsx)(t.a,{href:"https://platform.openai.com/",children:"OpenAI"})," API key."]}),"\n",(0,a.jsxs)(t.li,{children:["Create an ",(0,a.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/databases/create-database.html#create-vector-database",children:"Astra DB Serverless (Vector) database"}),", if you don't already have one."]}),"\n",(0,a.jsxs)(t.li,{children:["Get your database's ",(0,a.jsx)(t.strong,{children:"Astra DB API endpoint"})," and an ",(0,a.jsx)(t.strong,{children:"Astra DB application token"})," with the Database Administrator role. For more information, see ",(0,a.jsx)(t.a,{href:"https://docs.datastax.com/en/astra-db-serverless/administration/manage-application-tokens.html#database-token",children:"Generate an application token for a database"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:["Create a ",(0,a.jsx)(t.a,{href:"/starter-projects-simple-agent",children:"Simple agent starter project"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:["Remove the ",(0,a.jsx)(t.strong,{children:"URL"})," tool and replace it with an ",(0,a.jsx)(t.a,{href:"/components-tools#mcp-server",children:"MCP server"})," component.\nThe flow should look like this:\n",(0,a.jsx)(t.img,{alt:"MCP stdio component",src:n(78567).A+"",width:"2546",height:"1474"})]}),"\n",(0,a.jsxs)(t.li,{children:["In the ",(0,a.jsx)(t.strong,{children:"MCP server"})," component, in the ",(0,a.jsx)(t.strong,{children:"MCP command"})," field, add the following code.\nReplace the values for ",(0,a.jsx)(t.code,{children:"ASTRA_TOKEN"})," and ",(0,a.jsx)(t.code,{children:"ASTRA_ENDPOINT"})," with the values from your Astra database."]}),"\n"]}),"\n",(0,a.jsx)(l.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"env ASTRA_DB_APPLICATION_TOKEN=ASTRA_TOKEN ASTRA_DB_API_ENDPOINT=ASTRA_ENDPOINT npx -y @datastax/astra-db-mcpnpx -y @datastax/astra-db-mcp",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,a.jsx)(t.admonition,{type:"important",children:(0,a.jsxs)(t.p,{children:["Langflow passes environment variables from the ",(0,a.jsx)(t.code,{children:".env"})," file to MCP, but not global variables declared in the UI.\nTo add the values for ",(0,a.jsx)(t.code,{children:"ASTRA_DB_APPLICATION_TOKEN"})," and ",(0,a.jsx)(t.code,{children:"ASTRA_DB_API_ENDPOINT"})," as global variables, add them to Langflow's ",(0,a.jsx)(t.code,{children:".env"})," file at startup.\nFor more information, see ",(0,a.jsx)(t.a,{href:"/configuration-global-variables",children:"global variables"}),"."]})}),"\n",(0,a.jsxs)(t.ol,{start:"8",children:["\n",(0,a.jsxs)(t.li,{children:["In the ",(0,a.jsx)(t.strong,{children:"Agent"})," component, add your ",(0,a.jsx)(t.strong,{children:"OpenAI API key"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:["Open the ",(0,a.jsx)(t.strong,{children:"Playground"}),", and then ask the agent, ",(0,a.jsx)(t.code,{children:"What collections are available?"})]}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"Since Langflow is connected to your Astra DB database through the MCP, the agent chooses the correct tool and connects to your database to retrieve the answer."}),"\n",(0,a.jsx)(l.Code,{codeConfig:h,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"The available collections in your database are:",props:{}}]},{tokens:[{content:"collection_002",props:{}}]},{tokens:[{content:"hardware_requirements",props:{}}]},{tokens:[{content:"load_collection",props:{}}]},{tokens:[{content:"nvidia_collection",props:{}}]},{tokens:[{content:"software_requirements",props:{}}]}],lang:"text"},annotations:[]}]})]})}function m(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(g,{...e})}):g(e)}function u(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},78567:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/mcp-server-component-1335e50a6b27980cadb99acc22273562.png"}}]);